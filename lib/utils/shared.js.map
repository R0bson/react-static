{"version":3,"sources":["../../src/utils/shared.js"],"names":["poolAll","createPool","pathJoin","cleanPath","unwrapArray","isObject","deprecate","trimSlashes","paths","newPath","map","join","includes","substring","indexOf","path","document","replace","window","location","origin","process","env","REACT_STATIC_BASEPATH","RegExp","arg","defaultValue","Array","isArray","a","from","to","console","warn","str"],"mappings":";;;;;;;;;;;;;oBAASA,O;;;;;;oBAASC,U;;;QAEFC,Q,GAAAA,Q;QAYAC,S,GAAAA,S;QAkBAC,W,GAAAA,W;QAQAC,Q,GAAAA,Q;QAIAC,S,GAAAA,S;QAMAC,W,GAAAA,W;AAhDT,SAASL,QAAT,GAA6B;AAAA,oCAAPM,KAAO;AAAPA,SAAO;AAAA;;AAClC,MAAIC,UAAUD,MAAME,GAAN,CAAUH,WAAV,EAAuBI,IAAvB,CAA4B,GAA5B,CAAd;AACA,MAAI,CAACF,OAAD,IAAYA,YAAY,GAA5B,EAAiC;AAC/B,WAAO,GAAP;AACD;AACDA,YAAUF,YAAYE,OAAZ,CAAV;AACA,MAAIA,QAAQG,QAAR,CAAiB,GAAjB,CAAJ,EAA2B;AACzBH,cAAUA,QAAQI,SAAR,CAAkB,CAAlB,EAAqBJ,QAAQK,OAAR,CAAgB,GAAhB,CAArB,CAAV;AACD;AACD,SAAOL,OAAP;AACD;;AAEM,SAASN,SAAT,CAAoBY,IAApB,EAA0B;AAC/B;AACA,MAAI,CAACA,IAAD,IAASA,SAAS,GAAtB,EAA2B;AACzB,WAAO,GAAP;AACD;AACD;AACA,MAAI,OAAOC,QAAP,KAAoB,WAAxB,EAAqC;AACnCD,WAAOA,KAAKE,OAAL,CAAaC,OAAOC,QAAP,CAAgBC,MAA7B,EAAqC,EAArC,CAAP;AACAL,WAAOA,KAAKE,OAAL,CAAa,KAAb,EAAoB,EAApB,CAAP;AACAF,WAAOA,KAAKE,OAAL,CAAa,MAAb,EAAqB,EAArB,CAAP;AACD;AACD,MAAII,QAAQC,GAAR,CAAYC,qBAAhB,EAAuC;AACrCR,WAAOA,KAAKE,OAAL,CAAa,IAAIO,MAAJ,WAAmBH,QAAQC,GAAR,CAAYC,qBAA/B,SAAb,EAAyE,EAAzE,CAAP;AACD;AACDR,SAAOA,QAAQ,GAAf;AACA,SAAOb,SAASa,IAAT,CAAP;AACD;;AAEM,SAASX,WAAT,CAAsBqB,GAAtB,EAA2BC,YAA3B,EAAyC;AAC9CD,QAAME,MAAMC,OAAN,CAAcH,GAAd,IAAqBA,IAAI,CAAJ,CAArB,GAA8BA,GAApC;AACA,MAAI,CAACA,GAAD,IAAQC,YAAZ,EAA0B;AACxB,WAAOA,YAAP;AACD;AACD,SAAOD,GAAP;AACD;;AAEM,SAASpB,QAAT,CAAmBwB,CAAnB,EAAsB;AAC3B,SAAO,CAACF,MAAMC,OAAN,CAAcC,CAAd,CAAD,IAAqB,QAAOA,CAAP,yCAAOA,CAAP,OAAa,QAAlC,IAA8CA,MAAM,IAA3D;AACD;;AAEM,SAASvB,SAAT,CAAoBwB,IAApB,EAA0BC,EAA1B,EAA8B;AACnCC,UAAQC,IAAR,uCACsCH,IADtC,wCAC6EC,EAD7E;AAGD;;AAEM,SAASxB,WAAT,CAAsB2B,GAAtB,EAA2B;AAChC,SAAOA,IAAIjB,OAAJ,CAAY,UAAZ,EAAwB,EAAxB,EAA4BA,OAA5B,CAAoC,UAApC,EAAgD,EAAhD,CAAP;AACD","file":"shared.js","sourcesContent":["export { poolAll, createPool } from 'swimmer'\n\nexport function pathJoin (...paths) {\n  let newPath = paths.map(trimSlashes).join('/')\n  if (!newPath || newPath === '/') {\n    return '/'\n  }\n  newPath = trimSlashes(newPath)\n  if (newPath.includes('?')) {\n    newPath = newPath.substring(0, newPath.indexOf('?'))\n  }\n  return newPath\n}\n\nexport function cleanPath (path) {\n  // Resolve the local path\n  if (!path || path === '/') {\n    return '/'\n  }\n  // Remove origin, hashes, and query params\n  if (typeof document !== 'undefined') {\n    path = path.replace(window.location.origin, '')\n    path = path.replace(/#.*/, '')\n    path = path.replace(/\\?.*/, '')\n  }\n  if (process.env.REACT_STATIC_BASEPATH) {\n    path = path.replace(new RegExp(`^\\\\/?${process.env.REACT_STATIC_BASEPATH}\\\\/`), '')\n  }\n  path = path || '/'\n  return pathJoin(path)\n}\n\nexport function unwrapArray (arg, defaultValue) {\n  arg = Array.isArray(arg) ? arg[0] : arg\n  if (!arg && defaultValue) {\n    return defaultValue\n  }\n  return arg\n}\n\nexport function isObject (a) {\n  return !Array.isArray(a) && typeof a === 'object' && a !== null\n}\n\nexport function deprecate (from, to) {\n  console.warn(\n    `React-Static deprecation notice: ${from} will be deprecated in favor of ${to} in the next major release.`\n  )\n}\n\nexport function trimSlashes (str) {\n  return str.replace(/^\\/{1,}/g, '').replace(/\\/{1,}$/g, '')\n}\n"]}